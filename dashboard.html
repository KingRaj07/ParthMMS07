<script>
  async function renderVideos() {
    const container = document.getElementById('videoContainer');
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    container.innerHTML = '';

    try {
      const response = await fetch('videos.json');
      const videos = await response.json();

      videos
        .filter(v => v.title.toLowerCase().includes(searchTerm))
        .forEach(video => {
          const card = document.createElement('a');
          card.className = 'video-card';
          card.href = video.url;
          card.target = "_blank";
          card.innerHTML = `
            <video src="${video.url}" muted></video>
            <div class="video-info">
              <div class="video-title">${video.title}</div>
              <div class="video-channel">${video.channel}</div>
            </div>
          `;
          container.appendChild(card);
        });
    } catch (err) {
      container.innerHTML = "<p>⚠️ Failed to load videos.</p>";
    }
  }

  // Initial render
  renderVideos();
</script>
